# Use the latest 2.1 version of CircleCI pipeline process engine. See: https://circleci.com/docs/2.0/configuration-reference
version: 2.1
commands:
  print_pipeline_id:
    description: "Printing the pipeline id"
    parameters:
      pl_id:
        type: string
        default: << pipeline.id >>
    steps:
      - run: echo "This is pipeline ID -- << parameters.pl_id >>"

defaults: &defaults
  docker:
    - image: amazon/aws-cli
  working_directory: ~/projects

jobs:
  create_infrastructure:
    <<: *defaults
    steps:
      - checkout

workflows:
  do_the_output_thing:
    jobs:
      - pipline_info

